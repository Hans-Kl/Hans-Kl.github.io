<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar-zfx.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar-zfx.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar-zfx.png">
  <link rel="mask-icon" href="/images/avatar-zfx.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"klhans.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="learner|developer|blogger|traveler">
<meta property="og:type" content="website">
<meta property="og:title" content="孔令翰-个人博客">
<meta property="og:url" content="http://klhans.com/page/2/index.html">
<meta property="og:site_name" content="孔令翰-个人博客">
<meta property="og:description" content="learner|developer|blogger|traveler">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="孔令翰">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://klhans.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>孔令翰-个人博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">孔令翰-个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">You Only Live Once</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/tomcat-start.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/tomcat-start.html" class="post-title-link" itemprop="url">SpringBoot系列之tomcat内嵌web容器是如何启动的</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-07 21:13:20" itemprop="dateCreated datePublished" datetime="2021-06-07T21:13:20+08:00">2021-06-07</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/tomcat-start.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/tomcat-start.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>83</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>如果看过我前几篇介绍 Springboot 是如何启动的文章，那内嵌的 tomcat 是如何启动的这个问题其实很好回答，这里我总结了一张时序图，感觉一图胜千言，分享给大家<img src="https://i.loli.net/2021/06/07/2jMCTgeYySJ6bi7.png" alt="ry-启动内嵌容器时序图 (1)"></p>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/tomcat-start.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/annotation-SpringBootApplication.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/annotation-SpringBootApplication.html" class="post-title-link" itemprop="url">SpringBoot系列之启动流程3-自动装配与@SpringBootApplication注解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-06 16:27:02" itemprop="dateCreated datePublished" datetime="2021-06-06T16:27:02+08:00">2021-06-06</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/annotation-SpringBootApplication.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/annotation-SpringBootApplication.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>2.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前面两篇文章我们已经研究过SpringBootApplication类的构造方法和 run 方法，这篇文章会研究<code>@SpringBootApplication</code>注解。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p><code>@SpringBootApplication</code>注解基本在每一个 springboot 项目中都会看到，通常标注在启动类上。直接看源码：</p>
<p><img src="https://i.loli.net/2021/06/06/AM5mucBdh39n2sL.png" alt="image-20210606163232129"></p>
<p>发现这是一个复合或者说组合注解，有三个子注解构成：</p>
<ul>
<li>SpringBootConfiguration</li>
<li>EnableAutoConfiguration</li>
<li>ComponentScan</li>
</ul>
<p><code>SpringBootConfiguration</code>注解非常简单，他就是Springp非常常见的用来标识配置类的注解<code>Configuration</code>换了个名字。</p>
<p><code>ComponentScan</code>注解也很常见，用来标识出 IOC 容器扫描 Bean 的范围。</p>
<p>我们把重点放在<code>@EnableAutoConfiguration</code>注解上，翻译过来就是“启动自动装配”，哎呦不得了，这是 SpringBoot 的卖点之一<strong>自动装配</strong>啊，值得我们深入研究。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/annotation-SpringBootApplication.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/SpringApplication-run.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/SpringApplication-run.html" class="post-title-link" itemprop="url">SpringBoot系列之启动流程2-SpringApplication执行run方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-06 16:18:30" itemprop="dateCreated datePublished" datetime="2021-06-06T16:18:30+08:00">2021-06-06</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/SpringApplication-run.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/SpringApplication-run.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>83</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上一节我们研究完了 SpringApplication 的构造函数，<a href="https://klhans.com/springboot-SpringApplication-constructor.html">传送门</a>。这一节我们接着研究执行完构造函数的 springApplication实例对象的 run 方法。</p>

          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/SpringApplication-run.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/starter-theory.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/starter-theory.html" class="post-title-link" itemprop="url">SpringBoot系列之starter原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-06 12:58:14" itemprop="dateCreated datePublished" datetime="2021-06-06T12:58:14+08:00">2021-06-06</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/starter-theory.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/starter-theory.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>SpringBoot 除了提供自身的功能外，还为我们提供了众多开箱即用的<code>starter</code>，比如常用的像</p>
<p><code>spring-boot-starter-jdbc</code>、<code>spring-boot-starter-logging</code>等。我们只要在 pom 文件中引入这些组件的依赖，springboot就会帮我们加载这些组件的 bean 到 IOC 容器中，并且允许我们对组件的一些配置进行定制，可谓是真正的“开箱即用”，这也是 springboot 现在称为行业事实标准的一个重要原因。那这样杀手锏级别的特性是如何实现的呢？本文我们将探讨这个话题。</p>
<h2 id="依赖包什么都没有？"><a href="#依赖包什么都没有？" class="headerlink" title="依赖包什么都没有？"></a>依赖包什么都没有？</h2><p>我们以<code>spring-boot-starter-jdbc</code>2.0.3.RELEASE版本为例，去 maven 中央仓库下载对应的 jar 包，地址：<a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc/2.0.3.RELEASE%E3%80%82%E7%82%B9%E5%87%BB%E7%BA%A2%E6%A1%86%E5%86%85%E6%8C%89%E9%92%AE%E4%B8%8B%E8%BD%BD">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc/2.0.3.RELEASE。点击红框内按钮下载</a> jar 包：</p>
<p><img src="https://i.loli.net/2021/06/06/AVHw5P1ZoEzWycB.png" alt="image-20210606181054309"></p>
<p>下载完解压，发现 jar 包内没有 class 文件，也没有 pom.xml：</p>
<p><img src="https://i.loli.net/2021/06/06/9Qt2SUJiOAELnRh.png" alt="image-20210606181218985"></p>
<p>而 <code>spring.provides</code> 在2.1.0之后的版本被去掉了，我们看下<code>MANIFEST.MF</code>文件：<img src="https://i.loli.net/2021/06/06/Udl4qJVKgIt37Au.png" alt="image-20210606181445762">这里面只是一些介绍和环境信息，what？！不符合客观规律啊，没找到任何有价值的东西啊，那引入这个依赖的 jar 包有啥用呢？</p>
<h2 id="再看依赖包"><a href="#再看依赖包" class="headerlink" title="再看依赖包"></a>再看依赖包</h2>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/starter-theory.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/SpringApplication-constructor.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/SpringApplication-constructor.html" class="post-title-link" itemprop="url">SpringBoot系列之启动流程1-SpringApplication的构造方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-04 09:08:51" itemprop="dateCreated datePublished" datetime="2021-06-04T09:08:51+08:00">2021-06-04</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/SpringApplication-constructor.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/SpringApplication-constructor.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本系列开始研究 SpringBoot 的源码，之前看过的源码都忘了，还是记录博客的方式能帮助自己更深入的思考和总结。</p>
<p>先研究 SpringBoot 的启动流程，这个部分预计总共会有三篇，分别研究：</p>
<ul>
<li><p>SpringApplication的构造函数</p>
</li>
<li><p>SpringApplication 实例的 run 方法</p>
</li>
<li><p>SpringBoot 启动类上的注解<code>@SpringBootApplication</code></p>
</li>
</ul>
<p>本篇是第一篇，研究SpringApplication 的构造函数。</p>
<h2 id="1-推断-web-环境"><a href="#1-推断-web-环境" class="headerlink" title="1. 推断 web 环境"></a>1. 推断 web 环境</h2><p>SpringBoot 应用程序的入口最终会先走到如下的构造函数中：</p>
<p><img src="https://i.loli.net/2021/06/06/8L6oi4w9akZYzex.png" alt="image-20210606135022331"></p>
<p>构造函数的前两步代码我们直接忽略，不重要，看第三行<code>WebApplicationType.deduceFromClasspath()</code>，这一行是 SpringBoot 在推断当前程序的 web 环境，作用是：后续会根据这个 web 环境来决定使用哪一个 ApplicationContext 实现类。我们点进这个方法看看是怎么实现的。</p>
<p><img src="https://i.loli.net/2021/06/06/NnMLpk9mGQlcYJb.png" alt="image-20210606140202116"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/SpringApplication-constructor.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/valueobject.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/valueobject.html" class="post-title-link" itemprop="url">ValueObject-译文</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-28 15:19:04" itemprop="dateCreated datePublished" datetime="2021-05-28T15:19:04+08:00">2021-05-28</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/valueobject.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/valueobject.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>7.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言：本篇探讨使用值对象的初衷和注意事项，原文地址：<a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/ValueObject.html">https://martinfowler.com/bliki/ValueObject.html</a></p>
<hr>
<blockquote>
<p>When programming, I often find it’s useful to represent things as a compound. A 2D coordinate consists of an x value and y value. An amount of money consists of a number and a currency. A date range consists of start and end dates, which themselves can be compounds of year, month, and day.</p>
</blockquote>
<p>编程时，我经常发现将一些事物作为一个整体来表示是有用的。2D坐标由x值和y值组成；金额 包括一个数字和货币；日期范围包括开始和结束日期，日期本身也由年，月和日组成。</p>
<blockquote>
<p>As I do this, I run into the question of whether two compound objects are the same. If I have two point objects that both represent the Cartesian coordinates of (2,3), it makes sense to treat them as equal. Objects that are equal due to the value of their properties, in this case their x and y coordinates, are called value objects.</p>
</blockquote>
<p>如果我这样做，我遇到了两个复合对象是否相同的问题。 如果我有两点对象，两者都代表笛卡尔坐标 （2,3），将它们视为相等是有意义的。对象相等性取决于它们属性的具体值，称为<strong>值对象</strong>，在这个 case 中，属性值指它们的x和y坐标，</p>
<blockquote>
<p>But unless I’m careful when programming, I may not get that behavior in my programs</p>
</blockquote>
<p>但除非我在编程时非常小心，否则我可能不会在程序中得到适当的行为。</p>
<blockquote>
<p>Say I want to represent a point in JavaScript.</p>
</blockquote>
<p>假设我想在javascript中代表一个点。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/valueobject.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/springboot/classpath.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/springboot/classpath.html" class="post-title-link" itemprop="url">SpringBoot项目中的classpath到底指什么?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-28 10:33:51" itemprop="dateCreated datePublished" datetime="2021-05-28T10:33:51+08:00">2021-05-28</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/springboot/classpath.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/springboot/classpath.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近又在研究 SpringBoot 源码（研究好几次了，研究完有些用不上就忘了😅），在 SpringBoot 执行 main 方法启动过程中，会根据 classpath 下的类信息推断当前环境信息。这里 classpath 究竟是指哪呢，搜了中文语境下的技术文章，竟然没有找到想要的回答，可能是问题太简单了。本篇记录下我的看法。</p>
<h2 id="java-最基础的-classpath"><a href="#java-最基础的-classpath" class="headerlink" title="java 最基础的 classpath"></a>java 最基础的 classpath</h2><p><strong>classpath</strong>，顾名思义，就是指 .class 文件所在的路径。.class 文件由 .java 文件编译后产生，我们用 java 命令执行.class 文件时，需要指定 jvm 去哪搜索目标 class 文件，总不能全盘扫描对吧，而<em>指定去哪搜索</em>就是 classpath 的含义，即：<br><strong><code>classpath</code>是JVM用到的一个环境变量，它用来指示JVM如何搜索<code>class</code>。</strong></p>
<p>执行 java 命令时，通过<code>java -classpath dir</code>或者简写为 <code>java -cp dir</code>来指定，</p>
<p>如果命令中没有显式指定，则 jvm 在当前目录中查找，即默认为：<code>java -cp .</code>。</p>
<p>可以在命令中指定多个classpath，Linux 下用<code>：</code>分隔。jvm 会依次查找指定目录，查找到一个之后不再继续查找下一个，比如<code>java -cp .:/usr/local:/tmp/work</code>。</p>
<h2 id="jar-包的-classpath"><a href="#jar-包的-classpath" class="headerlink" title="jar 包的 classpath"></a>jar 包的 classpath</h2><p>我们工程中一般都会有很多 .class 文件，利用 jar 包可以将他们批量管理起来，像这样<code>java -cp ./demo.jar boo.Helloworld</code>指定 jar 包为 classpath 的话，jvm 就会去这个 jar 包里面搜索需要的类。</p>
<p>jar包还可以包含一个特殊的<code>/META-INF/MANIFEST.MF</code>文件，<code>MANIFEST.MF</code>是纯文本，可以指定<code>Main-Class</code>和其它信息。JVM会自动读取这个<code>MANIFEST.MF</code>文件，如果存在<code>Main-Class</code>，我们就不必在命令行指定启动的类名，而是用更方便的命令：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/springboot/classpath.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/dddsample-characterization.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dddsample-characterization.html" class="post-title-link" itemprop="url">dddsample-characterization[译文]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-19 22:30:18" itemprop="dateCreated datePublished" datetime="2021-05-19T22:30:18+08:00">2021-05-19</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/dddsample-characterization.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/dddsample-characterization.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言:此篇文章是对 cargo 项目的类归属的翻译。<br>原文链接:<a target="_blank" rel="noopener" href="http://dddsample.sourceforge.net/characterization.html">http://dddsample.sourceforge.net/characterization.html</a></p>
<hr>
<h2 id="Characterization类归属"><a href="#Characterization类归属" class="headerlink" title="Characterization类归属"></a>Characterization类归属</h2><blockquote>
<p>Careful characterization of the classes is an important activity when doing Domain-Driven Design. Sometimes it is fairly obvious in what category a particular class belongs, other times it is not as easy to sort out the different <em>Building Blocks of a Model-Driven Design</em>.</p>
</blockquote>
<p>在进行领域驱动设计时，仔细的界定类的身份是重要的活动。有时候特定类的所属哪个类别非常明显，有时则不然。</p>
<blockquote>
<p>The trickiest ones to classify are typically <em>Entities</em> , <em>Aggregates</em>, <em>Value Objects</em> and <em>Domain Events</em>. When possible, we tend to favor <em>Value Objects</em> over <em>Entities</em> or <em>Domain Events</em>, because they require less attention during implementation. <em>Value Objects</em> can be created and thrown away at will, and since they are immutable we can pass them around as we wish. We must be much less cavalier with <em>Entities</em> as identity and life-cycle have to be carefully managed. Below is a short walkthrough of key classes in the application and the motivation behind their implementation choice. All but <em>Domain Event</em> are thoroughly described in <a target="_blank" rel="noopener" href="http://www.domaindrivendesign.org/books/index.html#DDD">Eric Evans’ book</a>. A short introduction to Domain Events can be found here: <a target="_blank" rel="noopener" href="http://martinfowler.com/eaaDev/DomainEvent.html">http://martinfowler.com/eaaDev/DomainEvent.html</a></p>
</blockquote>
<p>棘手的分类工作通常是针对实体，聚合，值对象和领域事件。可能的话，我们倾向于使用值对象而不是实体或领域事件，因为它们在实现期间需要注意的东西更少。可以任意创建值对象并将其丢弃，因为它们是不可变的；而我们必须对实体更加小心因为实体的身份和生命周期需要小心的管理。以下是一个关于关键类的简短演示，以及他们选择的实现的背后动机。除了领域事件外，都在<a target="_blank" rel="noopener" href="http://www.domaindrivendesign.org/books/index.html#DDD">Eric Evans的书</a>中有完整的描述。在此处可以找到关于领域事件的简述：<a target="_blank" rel="noopener" href="http://martinfowler.com/eaadev/domainainevent.html">http://martinfowler.com/eaadev/domainainevent.html</a></p>
<h2 id="Entities实体"><a href="#Entities实体" class="headerlink" title="Entities实体"></a>Entities实体</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://dddsample.sourceforge.net/xref/se/citerus/dddsample/domain/model/cargo/Cargo.html">Cargo</a>: Cargo has both a clear identity and a life-cycle with state transitions that we care about, so it’s an entity. Many cargo instances will exist in the system simultaneously. The different instances have the same origin and destination, they may even contain the same kind of things, but it is important for us to be able to track individual cargo instances. In our case the cargo’s identity is its tracking id. The tracking id is assigned upon creation and is never changed. This is the handle used to track the cargo’s progress, e.g. from the tracking website.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://dddsample.sourceforge.net/xref/se/citerus/dddsample/domain/model/cargo/Cargo.html">Cargo</a>(货运)：cargo具有明确的唯一标识和我们关心的有状态变化的生命周期，所以它是一个实体。许多cargo实例将同时存在于系统中。不同的实例具有相同的起源和目的地，它们甚至可能包含相同类型的东西，但是对我们来说，能够跟踪指定cargo实例很重要。在我们的case 中，cargo的唯一标识是其tracking id。tracking id在创建时分配，并且永远不会改变。这是用来跟踪cargo进行情况的handle，例如，在网上追踪。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dddsample-characterization.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/dddsample-Architecture.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dddsample-Architecture.html" class="post-title-link" itemprop="url">dddsample-Architecture[译文]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-19 11:59:11" itemprop="dateCreated datePublished" datetime="2021-05-19T11:59:11+08:00">2021-05-19</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/dddsample-Architecture.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/dddsample-Architecture.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言:本系列翻译的对象是DDD 大蓝书中的示例项目 cargo 的相关文章。<br>本文原文链接：dddsample.w.net/architecture.html</p>
<hr>
<h2 id="Architecture架构"><a href="#Architecture架构" class="headerlink" title="Architecture架构"></a>Architecture架构</h2><blockquote>
<p> The sample application is layered as illustrated by this picture:</p>
</blockquote>
<p>示例应用程序分层如图所示：</p>
<p><img src="http://dddsample.sourceforge.net/images/layers.jpg"></p>
<blockquote>
<p>There are three vertical layers: Interfaces, Application and Domain, each supported by different kinds of infrastructure.</p>
</blockquote>
<p>有三个垂直的分层：接口层，应用层和领域层，每层由不同类型的基础架构层支持。</p>
<h2 id="Interfaces接口层"><a href="#Interfaces接口层" class="headerlink" title="Interfaces接口层"></a>Interfaces接口层</h2><blockquote>
<p>This layer holds everything that interacts with other systems, such as web services, RMI interfaces or web applications, and batch processing frontends. It handles interpretation, validation and translation of incoming data. It also handles serialization of outgoing data, such as HTML or XML across HTTP to web browsers or web service clients, or DTO classes and distributed facade interfaces for remote Java clients.</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dddsample-Architecture.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://klhans.com/events-or-commands.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="孔令翰">
      <meta itemprop="description" content="learner|developer|blogger|traveler">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孔令翰-个人博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/events-or-commands.html" class="post-title-link" itemprop="url">Events or Commands[译文]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-17 16:43:36" itemprop="dateCreated datePublished" datetime="2021-05-17T16:43:36+08:00">2021-05-17</time>
            </span>

          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/events-or-commands.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/events-or-commands.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前言：本篇探讨命令与事件各自优缺点和如何选择，原文地址：<a target="_blank" rel="noopener" href="https://codesimple.blog/2018/04/16/events-or-commands/">https://codesimple.blog/2018/04/16/events-or-commands/</a></p>
<hr>
<h2 id="事件还是命令"><a href="#事件还是命令" class="headerlink" title="事件还是命令"></a>事件还是命令</h2><p>Most of the programmers quickly agree that naming is one of the hardest things they have to do as part of their Job.大多数程序员迅速同意命名是他们作为工作的最艰难的事情之一。</p>
<blockquote>
<p>As Phil Karlton puts it “_There are only two hard things in Computer Science: cache invalidation and naming things._“正如菲尔卡尔顿所说的那样，“计算机科学中只有两个艰难的东西：缓存失效和命名的东西。”</p>
</blockquote>
<p>Naming is hard because it is important to get it right. It is one of the key UX for readers/consumers of your software components. There is plenty of material (books/blogs) written on this topic. I have also shared my thoughts in another <a target="_blank" rel="noopener" href="http://satjinder.com/2017/03/11/use-meaningful-names-in-your-code/">post</a>.命名很难，因为重要的是要正确。它是软件组件的读者/消费者的关键UX之一。有大量的材料（书籍/博客）写在这个主题上。我还在另一个帖子中分享了我的想法。</p>
<p>Besides other challenges, developers of Event-Driven systems are suffering from this pain at another level. While building an event-driven system, generally we find it difficult to name an event. Often in this situation, if the name of the event you are raising does not resonate the business event then you should be alarmed and reassess the event.除其他挑战外，活动驱动系统的开发人员正在患有这种痛苦的痛苦。在构建事件驱动的系统时，通常我们发现难以命名事件。经常在这种情况下，如果您提出的事件的名称不会产生业务事件，那么您应该被警告并重新评估事件。</p>
<p><a target="_blank" rel="noopener" href="https://martinfowler.com/">Martin Fowler</a> warns about the trap of <a target="_blank" rel="noopener" href="https://martinfowler.com/articles/201701-event-driven.html">Passive Aggressive Commands:</a>Martin Fowler警告了被动侵略性命令的陷阱：</p>
<blockquote>
<p>“This happens when the source system expects the recipient to carry out an action, and ought to use a command message to show that intention, but styles the message as an event instead.”“当源系统期望收件人执行一个动作时，会发生这种情况，并应该使用命令消息来显示该意图，但是改变为事件的消息。”</p>
</blockquote>
<p>Before digging deeper, lets define commands and events.在挖掘更深时，允许定义命令和事件。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/events-or-commands.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="孔令翰"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">孔令翰</p>
  <div class="site-description" itemprop="description">learner|developer|blogger|traveler</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Hans-Kl" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Hans-Kl" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:konglinghan@klhans.com" title="E-Mail → mailto:konglinghan@klhans.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">孔令翰</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      欢迎你，第
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
      位童鞋
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  



  <script>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 29622,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>












  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'uno6T8mk5eaEGYj1FKo9v206-gzGzoHsz',
      appKey     : 'V1QGjvh9QIYlk8fJLg70puH4',
      placeholder: "技术更新飞快，难免疏漏，欢迎批评指导",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
